{% extends "base.html" %}
{% block title %}Meridian Debug Tool{% endblock%}
{% block head %}{{ super() }}


{% endblock %}
{% block content %}


<div class="jumbotron d-flex align-items-center">
  <div class="container text-center">
    <h1 class="display-7">Recipe App</h1>
  </div>
</div>

<div class="container">

<ul class="nav nav-tabs" id="myTab" role="tablist">
  <li class="nav-item">
    <a class="nav-link active" id="all_recipes-tab" data-toggle="tab" href="#all_recipes" role="tab" aria-controls="all_recipes" aria-selected="true">All Recipes</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" id="add_recipe-tab" data-toggle="tab" href="#add_recipe" role="tab" aria-controls="add_recipe" aria-selected="false">Add Recipe</a>
  </li>

</ul>
<div class="tab-content" id="myTabContent">
  <div class="tab-pane fade show active" id="all_recipes" role="tabpanel" aria-labelledby="all_recipes-tab">

    <div id="accordion">
    {% for recipe in all_recipes %}
      <div class="card">
        <div class="card-header" id="{{recipe.recipe_name}}">
          <h5 class="mb-0">
            <button class="btn btn-link" data-toggle="collapse" data-target="#{{recipe.recipe_name}}-collapse" aria-expanded="true" aria-controls="{{recipe.recipe_name}}-collapse">
              {{recipe.recipe_name}}
            </button>
          </h5>
        </div>

        <div id="{{recipe.recipe_name}}-collapse" class="collapse show" aria-labelledby="{{recipe.recipe_name}}" data-parent="#accordion">
          <div class="card-body">

        <div class="form-group">
           <button class="btn btn-danger float-right" id="delete_recipe" onclick="delete_recipe('{{recipe.recipe_name}}');">Delete</button>
        </div>

        <div class="form-group">
          <label for="recipe_name">Recipe name</label>
          <input type="text" class="form-control" value="{{recipe.recipe_name}}" readonly>
        </div>

        <div class="form-group">
          <label for="recipe_name">Category</label>
          <input type="text" class="form-control" value="{{recipe.category}}" readonly>
        </div>

        <div class="form-group">
          <label for="recipe_name">Serving_size</label>
          <input type="text" class="form-control" value="{{recipe.serving_size}}" readonly>
        </div>

      <div class="form-group" >

            <label for="add_ingredient">Ingredients</label>
              <ul class="list-group">
                {% for i in recipe.ingredients %}
                  <li class="list-group-item">{{i}}</li>
                {% endfor %}
              </ul>

        </div>

      <div class="form-group">
          <label for="instructions">Instructions</label>
          <textarea class="form-control" rows="5">{{recipe.instructions}}</textarea>
      </div>


      <div class="form-group">
          <label for="notes">Notes</label>
          <textarea class="form-control" rows="5">{{recipe.notes}}</textarea>
      </div>

        <div class="form-group">
          <label for="recipe_name">Created</label>
          <input type="text" class="form-control" value="{{recipe.created}}" readonly>
        </div>


        <div class="form-group">
          <label for="recipe_name">Modified</label>
          <input type="text" class="form-control" value="{{recipe.modified}}" readonly>
        </div>


      </div>
    </div>
    {% endfor %}

    </div>


  </div>
  <div class="tab-pane fade" id="add_recipe" role="tabpanel" aria-labelledby="add_recipe-tab">

    <div id="recipe-add">

      <div class="form-group">
        <label for="recipe_name">Recipe name</label>
        <input type="text" class="form-control" id="recipe_name" placeholder="Recipe Name">
      </div>
      <div class="form-group">
          <label class="mr-sm-2" for="category">Category</label>
          <select class="custom-select mr-sm-2" id="category">
            <option value="veg">Veg</option>
            <option value="non-veg">Non Veg</option>
          </select>
      </div>
      <div class="form-group">
        <label for="serving_size">Serving Size</label>
        <input type="number" min="0" class="form-control" id="serving_size" placeholder="Serving Size">
      </div>

      <div class="form-group" id="ingredients">

          <div class="form-group">
            <label for="add_ingredient" class="sr-only">Add Ingredient</label>
            <input type="text" class="form-control-plaintext" id="add_ingredient" value="Add Ingredient">
          </div>
          <div class="form-group">
            <input type="text" class="form-control" id="ingredient_name" placeholder="Ingredient Name">
          </div>
          <button type="submit" id="add_ingredient_submit" class="btn btn-primary mb-2">Add</button>

          <div id="ingredient_list_div" class="form-group">
              <ul id="ingredient_list" class="list-group"></ul>
          </div>

      </div>

      <div class="form-group">
          <label for="instructions">Instructions</label>
          <textarea class="form-control" rows="5" id="instructions"></textarea>
      </div>


      <div class="form-group">
          <label for="notes">Notes</label>
          <textarea class="form-control" rows="5" id="notes"></textarea>
      </div>

      <button type="submit" id="recipe_add_submit" class="btn btn-primary">Submit</button>

    </div>

  </div>

</div>





</div>



{% endblock %}
